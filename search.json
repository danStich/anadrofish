[{"path":"https://danstich.github.io/anadrofish/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Daniel S. Stich. Author, maintainer. S. G. Roy. Author. S. D. Snyder. Author. J. D. Zydlewski. Author.","code":""},{"path":"https://danstich.github.io/anadrofish/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Stich D, Roy S, Snyder S, Zydlewski J (2025). anadrofish: Anadromous Fish Population Responses Habitat Changes. R package version 2.1.0, https://danstich.github.io/anadrofish/.","code":"@Manual{,   title = {anadrofish: Anadromous Fish Population Responses to Habitat Changes},   author = {Daniel S. Stich and S. G. Roy and S. D. Snyder and J. D. Zydlewski},   year = {2025},   note = {R package version 2.1.0},   url = {https://danstich.github.io/anadrofish/}, }"},{"path":"https://danstich.github.io/anadrofish/index.html","id":"anadrofish","dir":"","previous_headings":"","what":"Anadromous Fish Population Responses to Habitat Changes","title":"Anadromous Fish Population Responses to Habitat Changes","text":"R package modeling anadromous fish population responses freshwater habitat changes","code":""},{"path":"https://danstich.github.io/anadrofish/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Anadromous Fish Population Responses to Habitat Changes","text":"package can installed devtools package R using repository url: devtools::install_github(\"danStich/anadrofish\") install anadrofish, need devtools installed ahead time R, requires special tools. install Windows, need download install appropriate version Rtools. install Mac, need XCode command-line tools installed. , running Linux, need install developer version R (r-base-dev) already. users working agency networked computers, need work specialists someone administrative privileges .","code":""},{"path":[]},{"path":"https://danstich.github.io/anadrofish/index.html","id":"purpose","dir":"","previous_headings":"Overview","what":"Purpose","title":"Anadromous Fish Population Responses to Habitat Changes","text":"purpose package distribute code provide user interface modeling anadromous fish population responses dam passage fisheries Atlantic coastal rivers Canada United States. main sim_pop() function uses various helper functions (see ?anadrofish R) links dam passage habitat availability stochastic population models simulate species-specific responses dams fisheries. Habitat datasets currently derived separately species based best available knowledge expert opinion state federal fishery biologists, managers, scientists. Likewise, species-specific life-history parameters (size age, age maturity, natural mortality) derived directly interstate stock assessments informed empirical estimates fisheries literature. application models described ASMFC 2020, Zydlewski et al. 2021, ASMFC 2024. Existing population models species can implemented using sim_pop() function. New models can theoretically constructed using existing functions within anadrofish appropriately structured habitat data. version 2.1.0 (2024-11-26), implemented custom_habitat_template() function. allows use default habitat data sets, modifying habitat data based built-datasets, querying custom habitat datasets ranging single stream segment regional stock scales species, constructing completely custom habitat configurations including completely fabricated (.e., theoretical) hydrosystem configurations optimization studies.","code":""},{"path":"https://danstich.github.io/anadrofish/index.html","id":"species","dir":"","previous_headings":"Overview","what":"Species","title":"Anadromous Fish Population Responses to Habitat Changes","text":"models available American shad (Alosa sapidissima) 167 Atlantic Coastal rivers North America Florida (St. Johns River) Quebec (St. Lawrence drainage). full list rivers available assessment can viewed anadrofish::get_rivers(...) package installed. River herring population models available 56 populations alewife (Alosa pseudoharengus) 49 blueback herring (Alosa aestivalis) populations. River herring models underlying data peer-reviewed development application 2024 Atlantic States Marine Fisheries Commission (ASMFC) River Herring Benchmark Stock Assessment. currently delineating smaller stock units defaults provide greater utility flexibility local managers.","code":""},{"path":"https://danstich.github.io/anadrofish/index.html","id":"ongoing-development","dir":"","previous_headings":"Overview","what":"Ongoing development","title":"Anadromous Fish Population Responses to Habitat Changes","text":"Finally, code documentation models currently updated preparation additional peer-review thus may updated time. , hope submit R package CRAN hope providing stable, backward-compatible version software moving forward.","code":""},{"path":"https://danstich.github.io/anadrofish/index.html","id":"directories","dir":"","previous_headings":"","what":"Directories","title":"Anadromous Fish Population Responses to Habitat Changes","text":"data/ Built-data sets package inst/examples/ Examples requiring one-liner man/ Help files documentation R/ R functions scripts","code":""},{"path":"https://danstich.github.io/anadrofish/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Anadromous Fish Population Responses to Habitat Changes","text":"encourage contributions community welcome collaborations extension species systems! can ask questions submit bug reports time issues page. Please check see whether similar issue already exists submitting new issue. like contribute improvements modifications directly repository, can fork repository submit merge request contributions can reviewed.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/add_unequal_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"Add vectors of unequal length — add_unequal_vectors","title":"Add vectors of unequal length — add_unequal_vectors","text":"Function used add aligned vectors unequal length without recycling elements shorter vector. Used combine male female cohorts max_age equal max_ages dataset.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/add_unequal_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add vectors of unequal length — add_unequal_vectors","text":"","code":"add_unequal_vectors(x, y)"},{"path":"https://danstich.github.io/anadrofish/reference/add_unequal_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add vectors of unequal length — add_unequal_vectors","text":"x, y Paired numeric vectors different length.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/add_unequal_vectors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add vectors of unequal length — add_unequal_vectors","text":"vector length one containing pre-spawn survival.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/add_unequal_vectors.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Add vectors of unequal length — add_unequal_vectors","text":"https://stackoverflow.com/questions/2307443/--add-two-vectors-without-repeating--r","code":""},{"path":"https://danstich.github.io/anadrofish/reference/add_unequal_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add vectors of unequal length — add_unequal_vectors","text":"","code":"x <- c(1, 2) y <- c(1, 2, 3) add_unequal_vectors(x, y) #> [1] 2 4 3"},{"path":"https://danstich.github.io/anadrofish/reference/anadrofish-package.html","id":null,"dir":"Reference","previous_headings":"","what":"anadrofish: Anadromous Fish Population Responses to Habitat Changes — anadrofish-package","title":"anadrofish: Anadromous Fish Population Responses to Habitat Changes — anadrofish-package","text":"anadrofish package collection tools running coastwide river-specific population models anadromous fish response habitat change dams.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/anadrofish-package.html","id":"functions-called-directly","dir":"Reference","previous_headings":"","what":"Functions called directly","title":"anadrofish: Anadromous Fish Population Responses to Habitat Changes — anadrofish-package","text":"following functions can called directly anadrofish:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/anadrofish-package.html","id":"data","dir":"Reference","previous_headings":"","what":"Data","title":"anadrofish: Anadromous Fish Population Responses to Habitat Changes — anadrofish-package","text":"following built-datasets included:","code":""},{"path":[]},{"path":"https://danstich.github.io/anadrofish/reference/anadrofish-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"anadrofish: Anadromous Fish Population Responses to Habitat Changes — anadrofish-package","text":"Maintainer: Daniel S. Stich daniel.stich@oneonta.edu (ORCID) Authors: S. G. Roy S. D. Snyder J. D. Zydlewski","code":""},{"path":"https://danstich.github.io/anadrofish/reference/beverton_holt.html","id":null,"dir":"Reference","previous_headings":"","what":"Beverton-Holt stock recruit curve — beverton_holt","title":"Beverton-Holt stock recruit curve — beverton_holt","text":"Beverton Holt (1957) stock-recruit curve habitat constraints. Default parameter values tuned predict larval recruitment assuming carrying capacity spawning adults 100 fish per acre American shad 500 fish per acre river herring species. See details.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/beverton_holt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Beverton-Holt stock recruit curve — beverton_holt","text":"","code":"beverton_holt(   a = 250000,   S = 100,   b = 0.21904,   acres = 1,   error = c(\"multiplicative\", \"additive\"),   age_structured = FALSE )"},{"path":"https://danstich.github.io/anadrofish/reference/beverton_holt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Beverton-Holt stock recruit curve — beverton_holt","text":"Ratio recruits per spawner. Density independent parameter equivalent slope near S = 0. default specified potential annual fecundity. S Spawning stock abundance per acre. Numeric vector one elements. b Density-dependent parameter. default specified per-acre basis (divided acres function) acres Surface area (acres) habitat units. error Character string indicating whether use 'multiplicative' 'additive' error structure. Defaults error = 'multiplicative'. age_structured Logical indicating whether return age-structured, density-dependent recruitment Beverton-Holt curve. TRUE vector length = max age must passed S.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/beverton_holt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Beverton-Holt stock recruit curve — beverton_holt","text":"numeric vector one elements representing number age-1 recruits (downstream migrants freshwater).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/beverton_holt.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Beverton-Holt stock recruit curve — beverton_holt","text":"primary use function anadrofish package predict number larval recruits river based number fish within functional habitat unit, number surface acres habitat unit. However, number potential uses flexible. Passing single value argument result calculation single recruitment value. Alternatively, passing vector one default arguments allows user explore values recruitment range input. current implementation, recommended user pass multiple values single argument per call. Otherwise, recommend conducting -depth sensitivity explorations use single values applied boot-strapping, Monte Carlo approach.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/beverton_holt.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Beverton-Holt stock recruit curve — beverton_holt","text":"Beverton, R. J. H. S. J. Holt. 1957. Dynamics Exploited Fish Populations, Fisheries Investigations (Series 2), Volume 19. United Kingdom Ministry Agriculture Fisheries, 533 pp.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/beverton_holt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Beverton-Holt stock recruit curve — beverton_holt","text":"","code":"# Example usage if (FALSE) { # \\dontrun{    # Run Beverton-Holt model to predict number # of age-0 recruits in freshwater under  # varying habitat amount with 100 fish and # default parameter settings.    # Start by making a sequence of habitat amounts (acres)   acres = seq(0, 100, 1)    # Run the Beverton-Holt curve for 100 individuals # in varying habitats with default a and b parameters   recruits = beverton_holt(S=100, acres = seq(0,1000,10))    # Plot the results   plot(x = acres, y = recruits, type='l')    } # }"},{"path":"https://danstich.github.io/anadrofish/reference/crecco_1983.html","id":null,"dir":"Reference","previous_headings":"","what":"Daily mortality of juvenile American shad — crecco_1983","title":"Daily mortality of juvenile American shad — crecco_1983","text":"built-dataset containing estimated daily mortality rates larval juvenile American shad Connecticut River, USA 1979-1982 (Crecco et al. 1983).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/crecco_1983.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Daily mortality of juvenile American shad — crecco_1983","text":"","code":"crecco_1983"},{"path":"https://danstich.github.io/anadrofish/reference/crecco_1983.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Daily mortality of juvenile American shad — crecco_1983","text":"data frame 24 observations 6 variables: #' @references Crecco, V., T. Savoy, L. Gunn. 1983. Daily mortality rates larval juvenile American shad (*Alosa sapidissima*) Connecticut River changes year-class strength. Canadian Journal Fisheries Aquatic Sciences 40:1719–1728.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/custom_habitat_template.html","id":null,"dir":"Reference","previous_headings":"","what":"Make custom habitat for an existing river or a template for a new river of interest — custom_habitat_template","title":"Make custom habitat for an existing river or a template for a new river of interest — custom_habitat_template","text":"Function used make habitat rivers listed get_rivers built-datasets.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/custom_habitat_template.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make custom habitat for an existing river or a template for a new river of interest — custom_habitat_template","text":"","code":"custom_habitat_template(   species = c(\"AMS\", \"ALE\", \"BBH\"),   built_in = TRUE,   river )"},{"path":"https://danstich.github.io/anadrofish/reference/custom_habitat_template.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make custom habitat for an existing river or a template for a new river of interest — custom_habitat_template","text":"species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). built_in logical indicating whether custom habitat template subset built-habitat datasets species indicated. river Character string specifying river name NULL custom river. making custom habitat existing river habitat (American shad), habitat_ale (Alewife), habitat_bbh (Blueback herring), river must included rivers get_rivers target species. Otherwise, arbitrary character string identifying river name acceptable.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/custom_habitat_template.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make custom habitat for an existing river or a template for a new river of interest — custom_habitat_template","text":"data.frame zero observations 8 variables: river Name river region Regional grouping, see get_region govt Governmental unit downstream terminus habitat unit lat Latitude downstream terminus habitat unit lon Longitude downstream terminus habitat unit dam_name Name dam (available) downstream terminus habitat unit dam_order Order dam downstream terminus habitat unit. Cumulatively assigned habitat units upstream given dam dam_order >= 1. Hab_sqkm Square kilometers habitat within habitat unit","code":""},{"path":"https://danstich.github.io/anadrofish/reference/custom_habitat_template.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make custom habitat for an existing river or a template for a new river of interest — custom_habitat_template","text":"","code":"# Select a subset of habitat from a single river custom_habitat_template(species = \"AMS\", river = \"Hudson\") #>    river region govt      lat       lon                      dam_name dam_order #> 1 Hudson     SI   NJ 40.70670 -74.02608                           n/a         0 #> 2 Hudson     SI   NJ 42.75149 -73.68677             TROY LOCK & DAM 1         1 #> 3 Hudson     SI   NJ 42.82411 -73.66204     LOCK C-1 DAM AT WATERFORD         2 #> 4 Hudson     SI   NJ 42.87933 -73.67688 LOCK C-2 DAM AT MECHANICVILLE         3 #> 5 Hudson     SI   NJ 42.91211 -73.67873 LOCK C-3 DAM AT MECHANICVILLE         4 #> 6 Hudson     SI   NJ 42.93666 -73.65333    LOCK C-4 DAM AT STILLWATER         5 #>    Hab_sqkm #> 1 65.466721 #> 2  7.044994 #> 3  4.840511 #> 4  3.735181 #> 5  3.122564 #> 6  2.586626  # Create a template heading that can be used to generate new habitat data custom_habitat_template(species = \"BBH\",    built_in = FALSE,    river = \"A fake river\") #>   river region govt lat lon dam_name dam_order Hab_sqkm #> 1   NaN    NaN  NaN  NA  NA      NaN        NA       NA"},{"path":"https://danstich.github.io/anadrofish/reference/fill_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Fill output vectors — fill_output","title":"Fill output vectors — fill_output","text":"Internal function fill output vectors default arguments sim_pop output (spawners). internal use sim_pop. intended called directly.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/fill_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fill output vectors — fill_output","text":"","code":"fill_output(.sim_pop, sex_specific = FALSE)"},{"path":"https://danstich.github.io/anadrofish/reference/fill_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fill output vectors — fill_output","text":".sim_pop hidden environment calling frame sim_pop. Arbitrarily named object names matching used function. sex_specific Logical inherited sim_pop indicating whether use sex-specific output.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/fill_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fill output vectors — fill_output","text":"list output vectors","code":""},{"path":"https://danstich.github.io/anadrofish/reference/fl_tl_conversions.html","id":null,"dir":"Reference","previous_headings":"","what":"Fork length - total length conversions for river herring — fl_tl_conversions","title":"Fork length - total length conversions for river herring — fl_tl_conversions","text":"dataset containing species-specific fork length - total length conversions ASMFC (2024). data regression coefficients standard errors species.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/fl_tl_conversions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fork length - total length conversions for river herring — fl_tl_conversions","text":"","code":"fl_tl_conversions"},{"path":"https://danstich.github.io/anadrofish/reference/fl_tl_conversions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fork length - total length conversions for river herring — fl_tl_conversions","text":"data frame 2 observations 5 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/fl_tl_conversions.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Fork length - total length conversions for river herring — fl_tl_conversions","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/fl_tl_conversions.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fork length - total length conversions for river herring — fl_tl_conversions","text":"Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_dams.html","id":null,"dir":"Reference","previous_headings":"","what":"Get dams for specified river from American shad habitat data — get_dams","title":"Get dams for specified river from American shad habitat data — get_dams","text":"Function used get dams rivers listed get_rivers built-habitat dataset American shad. implemented river herring.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_dams.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get dams for specified river from American shad habitat data — get_dams","text":"","code":"get_dams(river)"},{"path":"https://danstich.github.io/anadrofish/reference/get_dams.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get dams for specified river from American shad habitat data — get_dams","text":"river Character string specifying river name. Must match one get_rivers(species = 'AMS').","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_dams.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get dams for specified river from American shad habitat data — get_dams","text":"data.frame 4 variables containing dam name, latitude longitude, dam order watershed.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_dams.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get dams for specified river from American shad habitat data — get_dams","text":"","code":"get_dams(\"Penobscot\") #>                    dam_name latitude longitude dam_order #> 502                     n/a 44.58850 -68.81944         0 #> 503         Marsh River Dam 44.60895 -68.87315         1 #> 504               Orono Dam 44.88320 -68.66449         1 #> 505          Stillwater Dam 44.91253 -68.68297         2 #> 506  Great Works Stream Dam 44.91343 -68.59780         1 #> 507             Milford Dam 44.94132 -68.64630         1 #> 508              Gilman Dam 44.95155 -68.69498         3 #> 509         Pushaw Lake Dam 44.96980 -68.81445         4 #> 510              Olamon Dam 45.12655 -68.60744         2 #> 511 Guilford Industries Dam 45.16848 -69.38501         5 #> 512               Lower Dam 45.18360 -69.21872         3 #> 513               Upper Dam 45.18362 -69.22915         4 #> 514      Lowell Tannery Dam 45.18703 -68.46465         2 #> 515             Howland Dam 45.23935 -68.65640         2 #> 516            Stanford Dam 45.25037 -68.64854         2 #> 517          Mattaseunk Dam 45.57032 -68.40848         3 #> 518              Medway Dam 45.60727 -68.54547         4 #> 519    East Millinocket Dam 45.62082 -68.57553         5 #> 520               Dolby Dam 45.63252 -68.60647         6"},{"path":"https://danstich.github.io/anadrofish/reference/get_govt.html","id":null,"dir":"Reference","previous_headings":"","what":"Get governmental unit for specified river by species — get_govt","title":"Get governmental unit for specified river by species — get_govt","text":"Function used get governmental unit rivers listed output get_rivers built-habitat data sets.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_govt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get governmental unit for specified river by species — get_govt","text":"","code":"get_govt(river, species = c(\"ALE\", \"AMS\", \"BBH\"), custom_habitat = NULL)"},{"path":"https://danstich.github.io/anadrofish/reference/get_govt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get governmental unit for specified river by species — get_govt","text":"river Character string specifying river name. species Character string specifying species. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_govt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get governmental unit for specified river by species — get_govt","text":"character string indicating governmental district corresponding selected river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_govt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get governmental unit for specified river by species — get_govt","text":"","code":"get_govt(river = \"Hudson\", species = \"AMS\") #> [1] \"NJ\""},{"path":"https://danstich.github.io/anadrofish/reference/get_region.html","id":null,"dir":"Reference","previous_headings":"","what":"Get region for specified river by species — get_region","title":"Get region for specified river by species — get_region","text":"Function used get region rivers listed output get_rivers built-habitat data sets.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_region.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get region for specified river by species — get_region","text":"","code":"get_region(river, species = c(\"ALE\", \"AMS\", \"BBH\"), custom_habitat = NULL)"},{"path":"https://danstich.github.io/anadrofish/reference/get_region.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get region for specified river by species — get_region","text":"river Character string specifying river name. species Character string specifying species. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_region.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get region for specified river by species — get_region","text":"","code":"get_region(river = \"Hudson\", species = \"AMS\") #> [1] \"SI\""},{"path":"https://danstich.github.io/anadrofish/reference/get_rivers.html","id":null,"dir":"Reference","previous_headings":"","what":"Rivers included in habitat data by species — get_rivers","title":"Rivers included in habitat data by species — get_rivers","text":"Get names rivers included package species.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_rivers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rivers included in habitat data by species — get_rivers","text":"","code":"get_rivers(species = c(\"ALE\", \"AMS\", \"BBH\"))"},{"path":"https://danstich.github.io/anadrofish/reference/get_rivers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rivers included in habitat data by species — get_rivers","text":"species Species rivers returned Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\").","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_rivers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rivers included in habitat data by species — get_rivers","text":"character vector rivers included built-habitat datasets selected species.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_rivers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rivers included in habitat data by species — get_rivers","text":"primary uses function (1) user can see rivers can used simulation, (2) output can passed random sampler use stochastic simulation via parallel processing.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/get_rivers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rivers included in habitat data by species — get_rivers","text":"","code":"# Example usage if (FALSE) { # \\dontrun{    # Use get_rivers() to return names of rivers included in package get_rivers(anadrofish::habitat)  # Sample a random river from those available get_rivers(anadrofish::habitat)[sample(length(get_rivers(anadrofish::habitat)), 1)]      } # }"},{"path":"https://danstich.github.io/anadrofish/reference/habitat.html","id":null,"dir":"Reference","previous_headings":"","what":"American shad habitat — habitat","title":"American shad habitat — habitat","text":"dataset containing surface area American shad habitat segments feature (dam outlet) Atlantic coast drainages North America.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"American shad habitat — habitat","text":"","code":"habitat"},{"path":"https://danstich.github.io/anadrofish/reference/habitat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"American shad habitat — habitat","text":"data frame 868 observations 22 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"American shad habitat — habitat","text":"Samuel G. Roy: https://github.com/samGroy/AmShadProject","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"American shad habitat — habitat","text":"Zydlewski, J., D. S. Stich, S. Roy, M. Bailey, T. Sheehan, K. Sprankle. 2021. Lost? Modeling Dam Impacts American Shad Populations Native Range. Frontiers Marine Science 8. DOI: https://doi.org/10.3389/fmars.2021.734213.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat_ale.html","id":null,"dir":"Reference","previous_headings":"","what":"Alewife habitat — habitat_ale","title":"Alewife habitat — habitat_ale","text":"dataset containing surface area Alewife habitat features individual flow line segments waterbodies (lakes) comprising habitat units Atlantic coast drainages.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat_ale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Alewife habitat — habitat_ale","text":"","code":"habitat_ale"},{"path":"https://danstich.github.io/anadrofish/reference/habitat_ale.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Alewife habitat — habitat_ale","text":"data frame 246,259 observations 7 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat_ale.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Alewife habitat — habitat_ale","text":"Shawn Snyder","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat_ale.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Alewife habitat — habitat_ale","text":"","code":"head(habitat_ale) #>   REACHCODE    Hab_sqkm Latitude State                           River_huc POP #> 1  2.04E+12 0.008199607 41.12328    NJ                      Upper Delaware MAT #> 2  2.04E+12 0.010045756 39.88029    PA                      Lower Delaware MAT #> 3  1.09E+12 0.016462307 42.12254    MA Massachusetts-Rhode Island Coastal. SNE #> 4  1.10E+12 0.141209610 41.38672    CT                 Connecticut Coastal SNE #> 5  2.02E+12 0.006305018 41.30567    NY                        Upper Hudson MAT #> 6  1.09E+12 0.000186516 42.27801    MA Massachusetts-Rhode Island Coastal. SNE #>   DamOrder #> 1        7 #> 2        0 #> 3        5 #> 4        1 #> 5        3 #> 6        8"},{"path":"https://danstich.github.io/anadrofish/reference/habitat_bbh.html","id":null,"dir":"Reference","previous_headings":"","what":"Blueback herring habitat — habitat_bbh","title":"Blueback herring habitat — habitat_bbh","text":"dataset containing surface area blueback herring habitat features individual flow line segments comprising habitat units Atlantic coast drainages.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat_bbh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Blueback herring habitat — habitat_bbh","text":"","code":"habitat_bbh"},{"path":"https://danstich.github.io/anadrofish/reference/habitat_bbh.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Blueback herring habitat — habitat_bbh","text":"data frame 274,726 observations 7 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/habitat_bbh.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Blueback herring habitat — habitat_bbh","text":"Shawn Snyder","code":""},{"path":"https://danstich.github.io/anadrofish/reference/jessop_1993.html","id":null,"dir":"Reference","previous_headings":"","what":"Fork length-fecundity relationships for alewife — jessop_1993","title":"Fork length-fecundity relationships for alewife — jessop_1993","text":"dataset containing fork length-fecundity relationships blueback herring several spawning groups New Brunswick Nova Scotia, Canada. Parameters equations form: log10(fec / 1000) ~ alpha + beta * log10(fork length).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/jessop_1993.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fork length-fecundity relationships for alewife — jessop_1993","text":"","code":"jessop_1993"},{"path":"https://danstich.github.io/anadrofish/reference/jessop_1993.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fork length-fecundity relationships for alewife — jessop_1993","text":"data frame 4 observations 6 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/jessop_1993.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fork length-fecundity relationships for alewife — jessop_1993","text":"Jessop, B. M. 1993. Fecundity anadromous alewives blueback herring New Brunswick Nova Scotia. Transactions American Fisheries Society 122:85-98.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/length_weight.html","id":null,"dir":"Reference","previous_headings":"","what":"Length-weight regression coefficients for American shad — length_weight","title":"Length-weight regression coefficients for American shad — length_weight","text":"dataset containing sex-specific regression coefficients log10length-log10weight relationships life-history region (NI = Northern iteroparous, SI = Southern iteroparous, SP = Semelparous). Use predict weight age length derived using region-specific von Bertalanffy growth parameters built-datasets.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/length_weight.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Length-weight regression coefficients for American shad — length_weight","text":"","code":"length_weight"},{"path":"https://danstich.github.io/anadrofish/reference/length_weight.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Length-weight regression coefficients for American shad — length_weight","text":"data frame 6 observations 4 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/length_weight.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Length-weight regression coefficients for American shad — length_weight","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/length_weight.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Length-weight regression coefficients for American shad — length_weight","text":"Atlantic States Marine Fisheries Commission (ASMFC). 2020. American shad benchmark stock assessment peer-review report. ASMFC, Arlington, VA.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/lower95.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate lower 95 % confidence limit — lower95","title":"Calculate lower 95 % confidence limit — lower95","text":"Function short name calculate 2.5th percentile distribution. Calls stats::quantile(x), shorter easier use calls apply family functions.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/lower95.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate lower 95 % confidence limit — lower95","text":"","code":"lower95(x)"},{"path":"https://danstich.github.io/anadrofish/reference/lower95.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate lower 95 % confidence limit — lower95","text":"x numeric vector matrix.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/lower95.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate lower 95 % confidence limit — lower95","text":"Numeric vector length 1 containing 2.5th percentile sampling distribution x.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/lower95.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate lower 95 % confidence limit — lower95","text":"","code":"# Example usage if (FALSE) { # \\dontrun{     x <- rnorm(1e4, 0, 1)    lower95(x)    } # }"},{"path":"https://danstich.github.io/anadrofish/reference/lw_pars_rh.html","id":null,"dir":"Reference","previous_headings":"","what":"Length-weight regression coefficients for river herring — lw_pars_rh","title":"Length-weight regression coefficients for river herring — lw_pars_rh","text":"dataset containing sex-specific regression coefficients log10length-log10weight relationships genetic reporting group river herring.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/lw_pars_rh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Length-weight regression coefficients for river herring — lw_pars_rh","text":"","code":"lw_pars_rh"},{"path":"https://danstich.github.io/anadrofish/reference/lw_pars_rh.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Length-weight regression coefficients for river herring — lw_pars_rh","text":"data frame 30 observations 7 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/lw_pars_rh.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Length-weight regression coefficients for river herring — lw_pars_rh","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/lw_pars_rh.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Length-weight regression coefficients for river herring — lw_pars_rh","text":"Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_downstream.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate downstream survival given dam passage scenario. — make_downstream","title":"Calculate downstream survival given dam passage scenario. — make_downstream","text":"Function used create population-level survival dams seasonal downstream migration juveniles adults.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_downstream.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate downstream survival given dam passage scenario. — make_downstream","text":"","code":"make_downstream(   river,   species = c(\"AMS\", \"ALE\", \"BBH\"),   downstream,   upstream,   historical = FALSE,   custom_habitat = NULL )"},{"path":"https://danstich.github.io/anadrofish/reference/make_downstream.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate downstream survival given dam passage scenario. — make_downstream","text":"river Character string specifying river name. species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). downstream Numeric indicating proportional downstream survival single dam. upstream Numeric indicating proportional upstream passage single dam. historical Logical indicating whether use contemporary historical habitat data. custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_downstream.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate downstream survival given dam passage scenario. — make_downstream","text":"Numeric vector length 1 representing weighted catchment-scale downstream migration mortality juvenile adult fish.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_downstream.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate downstream survival given dam passage scenario. — make_downstream","text":"function assigns cumulative downstream passage values features habitat corresponding river. calculates proportion habitat habitat segment river, weights downstream mortality catchment-scale proportion habitat. implicitly assumes fish distributed throughout river spawning proportion available habitat.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_downstream.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate downstream survival given dam passage scenario. — make_downstream","text":"","code":"# Example usage if (FALSE) { # \\dontrun{    # Example 1. ----   # Calculate population-level survival during outmigration # for fixed upstream and downstream dam passage probabilities s_down <- make_downstream(   habitat_data = habitat,   river = 'Susquehanna',   downstream = 0.95,   upstream = 0.80   )    # Example 2. ---- # Explore how upstream passage affects catchment-wide survival # during outmigration for a fixed downstream passage upstream_p <- seq(from=0, to=1, by=0.01) s_down <- vector(mode='numeric', length=length(upstream_p)) for(i in 1:length(upstream_p)){   s_down[i] <- make_downstream(     habitat_data = habitat,     river = 'Susquehanna',     downstream = 0.5,     upstream = upstream_p[i]     )   }   Zd = 1 - s_down  plot(x=upstream_p, y=Zd, type = 'l',      xlab='Upstream passage',      ylab = 'Total downstream mortality',      main = 'Susquehanna River'      )  # Example 3. ---- # Explore interactions between upstream and downstream  # passage probabilities when both vary. This changes # drastically from one river to another depending on # habitat above and below dams, and number of dams. upstream_p <- seq(from=0, to=1, by=0.01) downstream_p <- seq(from=0, to=1, by=0.01) s_down <- matrix(data = NA, nrow=length(upstream_p), ncol = length(downstream_p))  for(i in 1:length(upstream_p)){   for(t in 1:length(downstream_p)){     s_down[i,t] <- make_downstream(       habitat_data = habitat,       river = 'Susquehanna',       downstream = downstream_p[t],       upstream = upstream_p[i]       )     }    }  zd <- 1 - s_down filled.contour(x=upstream_p, y=downstream_p, z=zd,                xlab = 'Upstream passage probability',                ylab = 'Downstream survival per dam',                main = 'Catchment-wide dam mortality'                )  } # }"},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate number of eggs per fish — make_eggs","title":"Simulate number of eggs per fish — make_eggs","text":"Function used simulate number eggs produced per female (potential annual fecundity, PAF), rivers included get_rivers.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate number of eggs per fish — make_eggs","text":"","code":"make_eggs(river, species = c(\"AMS\", \"ALE\", \"BBH\"), custom_habitat = NULL)"},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate number of eggs per fish — make_eggs","text":"river river eggs simulated. species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate number of eggs per fish — make_eggs","text":"vector containing age-specific potential annual fecundity length = max_age.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate number of eggs per fish — make_eggs","text":"default method American shad uses predictive equations Olney McBride (2003) simulate batch fecundity weight-fecundity relationships using coefficients olney_mcbride life-history region corresponding specified river. Number batches approach currently drawn random normal distribution mean 6.7 standard deviation 2.1 (McBride et al. 2016). default method river herring calls make_eggs_rh simulation methods references described therein.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Simulate number of eggs per fish — make_eggs","text":"Olney, J. E. R. S. McBride. 2003. Intraspecific variation batch fecundity American shad (Alosa sapidissima): revisiting paradigm reciprocal latitudinal trends reproductive traits. American Fisheries Society Symposium 35:185-192. McBride, R. S., R. Ferreri, E. K. Towle, J. M. Boucher, G. Basilone, G. 2016. Yolked oocyte dynamics support agreement determinate- indeterminate-method estimates annual fecundity northeastern United States population American shad. PLoS ONE 11(10): 10.1371/journal.pone.0164203","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate number of eggs per fish — make_eggs","text":"","code":"make_eggs(river=\"Susquehanna\", species = \"AMS\") #>  [1]  15099.38  79127.13 169263.47 251924.78 313956.41 355901.33 382686.26 #>  [8] 399244.67 409291.43 415321.23 418917.13 421053.53 422320.01"},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs_rh.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate number of eggs per fish for river herring — make_eggs_rh","title":"Simulate number of eggs per fish for river herring — make_eggs_rh","text":"Function used simulate number eggs produced per female (total fecundity) river herring rivers included get_rivers.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs_rh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate number of eggs per fish for river herring — make_eggs_rh","text":"","code":"make_eggs_rh(river, species = c(\"ALE\", \"BBH\"), custom_habitat = NULL)"},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs_rh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate number of eggs per fish for river herring — make_eggs_rh","text":"river river eggs simulated. species Species population dynamics simulated. Choices include alewife (\"ALE\"), blueback herring (\"BBH\"). custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs_rh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate number of eggs per fish for river herring — make_eggs_rh","text":"vector containing age-specific potential annual fecundity length = max_age.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs_rh.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate number of eggs per fish for river herring — make_eggs_rh","text":"default methods alewife blueback herring uses stochastic, MCMC sampling approach draw correlated sets von Bertalanffy growth parameters built-vbgf_... datasets, length-weight regression parameters link{lw_pars_rh}, length-fecundity relationships Sullivan et al. (2019) simulate number eggs per female within genetic reporting groups (region).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs_rh.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Simulate number of eggs per fish for river herring — make_eggs_rh","text":"Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf Sullivan, K.M, M.M. Bailey, D.L. Berlinksky. 2019. Digital Image Analysis Technique Alewife Fecundity Estimation New Hampshire River. North American Journal Fisheries Management 39:353-361.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_eggs_rh.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate number of eggs per fish for river herring — make_eggs_rh","text":"","code":"make_eggs_rh(river = \"Upper Susquehanna\", species = \"BBH\") #>  [1]  65215.36 149340.66 217867.63 263289.02 290644.45 306344.98 315132.67 #>  [8] 319985.91 322647.07 324100.61 324892.87 325324.21"},{"path":"https://danstich.github.io/anadrofish/reference/make_habitat.html","id":null,"dir":"Reference","previous_headings":"","what":"Make cumulative habitat for river — make_habitat","title":"Make cumulative habitat for river — make_habitat","text":"Function used make habitat rivers listed get_rivers built-dataset(s)","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_habitat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make cumulative habitat for river — make_habitat","text":"","code":"make_habitat(   river,   species = c(\"AMS\", \"ALE\", \"BBH\"),   upstream,   custom_habitat = NULL )"},{"path":"https://danstich.github.io/anadrofish/reference/make_habitat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make cumulative habitat for river — make_habitat","text":"river Character string specifying river name species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). upstream Proportional upstream passage dams. numeric vector length 1 length matching number rows habitat data selected river species. custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_habitat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make cumulative habitat for river — make_habitat","text":"numeric vector containing amount accessible habitat acres.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_habitat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make cumulative habitat for river — make_habitat","text":"","code":"make_habitat(river = \"Penobscot\", species = \"AMS\", upstream = 0.9) #> [1] 10964.79"},{"path":"https://danstich.github.io/anadrofish/reference/make_iteroparity.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate rate of iteroparity for American shad from latitude based on Leggett and Cascardden (1978) and Bailey and Zydlewski (2013). — make_iteroparity","title":"Estimate rate of iteroparity for American shad from latitude based on Leggett and Cascardden (1978) and Bailey and Zydlewski (2013). — make_iteroparity","text":"Function used extract river-specific latitude built-data sets.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_iteroparity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate rate of iteroparity for American shad from latitude based on Leggett and Cascardden (1978) and Bailey and Zydlewski (2013). — make_iteroparity","text":"","code":"make_iteroparity(latitude)"},{"path":"https://danstich.github.io/anadrofish/reference/make_iteroparity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate rate of iteroparity for American shad from latitude based on Leggett and Cascardden (1978) and Bailey and Zydlewski (2013). — make_iteroparity","text":"latitude Latitude, decimal degrees. Can queried river using make_lat.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_iteroparity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate rate of iteroparity for American shad from latitude based on Leggett and Cascardden (1978) and Bailey and Zydlewski (2013). — make_iteroparity","text":"Probability repeat spawning. numeric vector length = 1.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_iteroparity.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate rate of iteroparity for American shad from latitude based on Leggett and Cascardden (1978) and Bailey and Zydlewski (2013). — make_iteroparity","text":"Bailey, M.M., J. D. Zydlewski. 2013. stock stock? Assessing therestoration potential remnant American shad spawning run hatchery supplementation. North American Journal Fisheries Management 33:459-467. Leggett, W., J. E. Cascardden. 1978. Latitudinal Variation Reproductive Characteristics American Shad (Alosa sapidissima): Evidence Population Specific Life History Strategies Fish. Journal Fisheries Research Board Canada 35:1469-1478.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_iteroparity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate rate of iteroparity for American shad from latitude based on Leggett and Cascardden (1978) and Bailey and Zydlewski (2013). — make_iteroparity","text":"","code":"make_iteroparity(make_lat(river = 'Susquehanna', species = 'AMS')) #> [1] 0.333116"},{"path":"https://danstich.github.io/anadrofish/reference/make_lat.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve latitude for American shad rivers. — make_lat","title":"Retrieve latitude for American shad rivers. — make_lat","text":"Function used extract river-specific latitude built-data sets American shad. implemented river herring.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_lat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve latitude for American shad rivers. — make_lat","text":"","code":"make_lat(river, species = c(\"AMS\", \"ALE\", \"BBH\"), custom_habitat = NULL)"},{"path":"https://danstich.github.io/anadrofish/reference/make_lat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve latitude for American shad rivers. — make_lat","text":"river Character string specifying river name. See get_rivers. species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). custom_habitat dataframe containing columns corresponding output custom_habitat_template(). NEED ADD LINK.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_lat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve latitude for American shad rivers. — make_lat","text":"","code":"make_lat(river = 'Susquehanna', species = 'AMS') #> [1] 39.03772"},{"path":"https://danstich.github.io/anadrofish/reference/make_maxage.html","id":null,"dir":"Reference","previous_headings":"","what":"Make maximum age for population using built-in data sets. — make_maxage","title":"Make maximum age for population using built-in data sets. — make_maxage","text":"purpose function query maximum age selected river built-data set containing region-specific max_ages .","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_maxage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make maximum age for population using built-in data sets. — make_maxage","text":"","code":"make_maxage(   river,   sex = c(\"female\", \"male\"),   species = c(\"AMS\", \"ALE\", \"BBH\"),   custom_habitat = NULL )"},{"path":"https://danstich.github.io/anadrofish/reference/make_maxage.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Make maximum age for population using built-in data sets. — make_maxage","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_maxage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make maximum age for population using built-in data sets. — make_maxage","text":"river River maximum age needed. sex Sex fish. specified, mean male female maximum ages returned American shad, pooled sex data used river herring. species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_maxage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make maximum age for population using built-in data sets. — make_maxage","text":"numeric vector length = 1 containing maximum age fish population.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_maxage.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Make maximum age for population using built-in data sets. — make_maxage","text":"Atlantic States Marine Fisheries Commission (ASMFC). 2020. American shad benchmark stock assessment peer-review report. ASMFC, Arlington, VA. Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_maxage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make maximum age for population using built-in data sets. — make_maxage","text":"","code":"make_maxage(river = \"Susquehanna\", species = \"AMS\") #> [1] 13"},{"path":"https://danstich.github.io/anadrofish/reference/make_mortality.html","id":null,"dir":"Reference","previous_headings":"","what":"Make instantaneous natural mortality. — make_mortality","title":"Make instantaneous natural mortality. — make_mortality","text":"purpose function query instantaneous natural mortality (regional estimates) selected river built-data set containing region-specific mortality American shad mortality_rh river herring.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_mortality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make instantaneous natural mortality. — make_mortality","text":"","code":"make_mortality(   river,   sex = c(NULL, \"female\", \"male\"),   species = c(\"AMS\", \"ALE\", \"BBH\"),   custom_habitat = NULL )"},{"path":"https://danstich.github.io/anadrofish/reference/make_mortality.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Make instantaneous natural mortality. — make_mortality","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_mortality.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make instantaneous natural mortality. — make_mortality","text":"river River maximum age needed. sex Fish sex. NULL (default) \"Pooled\", mean male female estimates used. species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_mortality.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make instantaneous natural mortality. — make_mortality","text":"numeric vector length = 1 containing natural instantaneous mortality fish population.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_mortality.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Make instantaneous natural mortality. — make_mortality","text":"Atlantic States Marine Fisheries Commission (ASMFC). 2020. American shad benchmark stock assessment peer-review report. ASMFC, Arlington, VA. Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_mortality.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make instantaneous natural mortality. — make_mortality","text":"","code":"make_mortality(river = \"Penobscot\", species = \"BBH\") #> [1] 1.0995165 0.8519435 0.7573630 0.7126715 0.6895006 0.6769152 0.6699073 #> [8] 0.6659513"},{"path":"https://danstich.github.io/anadrofish/reference/make_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Make output vectors — make_output","title":"Make output vectors — make_output","text":"Internal function create output vectors sim_pop. intended called directly.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make output vectors — make_output","text":"","code":"make_output(nyears, sex_specific = FALSE)"},{"path":"https://danstich.github.io/anadrofish/reference/make_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make output vectors — make_output","text":"nyears Number years simulation output. sex_specific Logical inherited sim_pop indicating whether use sex-specific output.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_pop.html","id":null,"dir":"Reference","previous_headings":"","what":"Make population — make_pop","title":"Make population — make_pop","text":"Function used seed initial age-structured population simulation based life-history characteristics. Uses initial population seed, mortality estimates, maximum age create starting population.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_pop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make population — make_pop","text":"","code":"make_pop(species, max_age, nM, fM, n_init)"},{"path":"https://danstich.github.io/anadrofish/reference/make_pop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make population — make_pop","text":"species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). max_age maximum age fish population(s). numeric vector length 1. nM Instantaneous natural mortality rate. numeric vector length (\"AMS\" vector length max_age \"ALE\" \"BBH\". fM Instantaneous fishing mortality rate. numeric vector length 1. n_init Initial population abundance (includes age classes).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_pop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make population — make_pop","text":"vector containing age-specific abundances length = max_age.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_pop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make population — make_pop","text":"","code":"# Example usage if (FALSE) { # \\dontrun{    # Simulate a fish population at stable age distribution   pop = make_pop(max_age, nM, fM, n_init)    } # }"},{"path":"https://danstich.github.io/anadrofish/reference/make_postspawn.html","id":null,"dir":"Reference","previous_headings":"","what":"Post-spawning survival — make_postspawn","title":"Post-spawning survival — make_postspawn","text":"Function used estimate post-spawn survival proportion repeat spawners latitude (Leggett Cascardden 1978, Bailey Zydlewski 2013) natural mortality life-history region (\"AMS\") iteroparity natural mortality (\"ALE\" \"BBH\").","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_postspawn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Post-spawning survival — make_postspawn","text":"","code":"make_postspawn(   river = river,   species = c(\"AMS\", \"ALE\", \"BBH\"),   iteroparity = NULL,   nM = NULL,   custom_habitat = NULL )"},{"path":"https://danstich.github.io/anadrofish/reference/make_postspawn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Post-spawning survival — make_postspawn","text":"river River post-spawn survival rate returned. Required argument default value. Available rivers can seen using get_rivers. species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). iteroparity Optional argument rate iteroparity. Values make_iteroparity can passed directly function, numeric vector length = 1. nM Instantaneous annual mortality. Values natural mortality life-history regions can mortality \"AMS\", mortality_rh \"ALE\" \"BBH\", numeric vector length = 1. custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_postspawn.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Post-spawning survival — make_postspawn","text":"Bailey, M.M., J. D. Zydlewski. 2013. stock stock? Assessing restoration potential remnant American shad spawning run hatchery supplementation. North American Journal Fisheries Management 33:459–467. Leggett, W., J. E. Cascardden. 1978. Latitudinal Variation Reproductive Characteristics American Shad (Alosa sapidissima): Evidence Population Specific Life History Strategies Fish. Journal Fisheries Research Board Canada 35:1469-1478. Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_postspawn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Post-spawning survival — make_postspawn","text":"","code":"make_postspawn(river = \"Susquehanna\", species = \"AMS\") #> [1] 0.5519683"},{"path":"https://danstich.github.io/anadrofish/reference/make_recruits.html","id":null,"dir":"Reference","previous_headings":"","what":"Make recruits — make_recruits","title":"Make recruits — make_recruits","text":"Function used calculate realized reproductive output (larval stage) female spawners without density-dependence larval production.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_recruits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make recruits — make_recruits","text":"","code":"make_recruits(eggs, sr)"},{"path":"https://danstich.github.io/anadrofish/reference/make_recruits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make recruits — make_recruits","text":"eggs number eggs individual fish can produce (Potential annual fecundity, PAF). sr Sex ratio spawning adults.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_recruits.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make recruits — make_recruits","text":"Number juvenile recruits. Numeric vector length(eggs. May single value (vector length 1) vector length = maximum age depending whether age-specific values passed eggs.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_recruits.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make recruits — make_recruits","text":"","code":"# Example usage if (FALSE) { # \\dontrun{    # Using values from Bailey and Zydlewski (2013)     eggs <- c(0, 0, 0, 20654, 34674, 58210, 79433, 88480, 97724)   sr <- 0.50   s_hatch = 0.10     # Calculate expected number of age-0 fish     fec <- make_recruits(eggs = eggs, sr = sr, s_hatch = s_hatch)    } # }"},{"path":"https://danstich.github.io/anadrofish/reference/make_s_spawn.html","id":null,"dir":"Reference","previous_headings":"","what":"Make total spawning migration mortality — make_s_spawn","title":"Make total spawning migration mortality — make_s_spawn","text":"Function used derive total -river adult survival spawning migration annual mortality post-spawn survival.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_s_spawn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make total spawning migration mortality — make_s_spawn","text":"","code":"make_s_spawn(nM, s_postspawn)"},{"path":"https://danstich.github.io/anadrofish/reference/make_s_spawn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make total spawning migration mortality — make_s_spawn","text":"nM Instantaneous natural mortality rate. numeric vector containing either age-invariant natural mortality rate length 1 age-specific natural mortality rate length = max_age. s_postspawn Post spawning mortality calculated output make_iteroparity nM, alternatively numeric vector .","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_s_spawn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make total spawning migration mortality — make_s_spawn","text":"vector length one containing pre-spawn survival.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_s_spawn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make total spawning migration mortality — make_s_spawn","text":"","code":"make_s_spawn(0.68, 0.92) #> [1] 0.8214248"},{"path":"https://danstich.github.io/anadrofish/reference/make_spawners.html","id":null,"dir":"Reference","previous_headings":"","what":"Make spawning population — make_spawners","title":"Make spawning population — make_spawners","text":"purpose function create age-structured spawning population existing age-structured population applying region- age-specific spawning probabilities.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawners.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make spawning population — make_spawners","text":"","code":"make_spawners(pop, probs)"},{"path":"https://danstich.github.io/anadrofish/reference/make_spawners.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make spawning population — make_spawners","text":"pop Numeric vector containing age-structured spawner abundance. probs Numeric vector spawning probabilities. May single value multiple. multiple values passed vector, length probs correspond length pop.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawners.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make spawning population — make_spawners","text":"numeric vector length = length(pop)","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawners.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make spawning population — make_spawners","text":"","code":"# Example usage if (FALSE) { # \\dontrun{    # Population vital rates   max_age = 9   nM = 0.38   fM = 0.00   n_init = 1e5    # Simulate a fish population at stable age distribution   pop = make_pop(max_age = max_age,                  nM = nM,                  fM = fM,                  n_init = n_init)    # Spawners ---- # Define probability of recruitment to spawn- probability of # recruitment to the first spawning event # by age class (Bailey and Zydlewski 2013) ### This is using probability of first spawn. ### clearly does not work here because it will always ### result in the oldest age classes having the most fish   spawnRecruit <- c(0, 0, 0, 0.01, .33, .84, .97, .99, 1.00)    # Get spawner numbers     spawners <- make_spawners(pop, probs = spawnRecruit)   spawners    } # }"},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit.html","id":null,"dir":"Reference","previous_headings":"","what":"Make age-specific proportion of spawners in population — make_spawnrecruit","title":"Make age-specific proportion of spawners in population — make_spawnrecruit","text":"purpose function make age-specific recruit spawn probabilities rivers listed get_rivers using built-data sets region-specific max_ages maturity.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make age-specific proportion of spawners in population — make_spawnrecruit","text":"","code":"make_spawnrecruit(   river,   sex = c(\"male\", \"female\"),   species = c(\"ALE\", \"AMS\", \"BBH\"),   custom_habitat = NULL )"},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make age-specific proportion of spawners in population — make_spawnrecruit","text":"river River spawn recruit probabilities requested. sex Sex fish. specified, mean male female spawn recruit probabilities returned. species Species rivers returned Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). species \"ALE\" \"BBH\" function calls make_spawnrecruit_rh. custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make age-specific proportion of spawners in population — make_spawnrecruit","text":"numeric vector length = length(max_age) depending maximum age selected river region species.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Make age-specific proportion of spawners in population — make_spawnrecruit","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make age-specific proportion of spawners in population — make_spawnrecruit","text":"","code":"make_spawnrecruit(river = \"Upper Hudson\", species = \"BBH\") #>  [1] 0.00000000 0.00000000 0.00000000 0.06323636 0.68455549 0.89252531 #>  [7] 1.00000000 1.00000000 1.00000000 1.00000000 1.00000000 1.00000000"},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit_rh.html","id":null,"dir":"Reference","previous_headings":"","what":"Make spawnrecruit vectors for river herring — make_spawnrecruit_rh","title":"Make spawnrecruit vectors for river herring — make_spawnrecruit_rh","text":"Simulate proportion population mature spawners sex-specific maturity schedules river herring maki_pars.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit_rh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make spawnrecruit vectors for river herring — make_spawnrecruit_rh","text":"","code":"make_spawnrecruit_rh(   river,   sex = c(\"male\", \"female\"),   species = c(\"ALE\", \"BBH\"),   custom_habitat = NULL )"},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit_rh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make spawnrecruit vectors for river herring — make_spawnrecruit_rh","text":"river River maximum age needed. sex character indicating \"male\", \"female\", \"Pooled\" sex fish. species character indicating species river herring, either \"ALE\" alewife \"BBH\" blueback herring. custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit_rh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make spawnrecruit vectors for river herring — make_spawnrecruit_rh","text":"numeric vector containing single realization proportion mature fish age, age 1 maximum age.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit_rh.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Make spawnrecruit vectors for river herring — make_spawnrecruit_rh","text":"primary use function simulate proportion mature spawners age population river-herring based region-specific probabilities maturation age estimated Maki (YEAR) method ASMFC (2024).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit_rh.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Make spawnrecruit vectors for river herring — make_spawnrecruit_rh","text":"Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/make_spawnrecruit_rh.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make spawnrecruit vectors for river herring — make_spawnrecruit_rh","text":"","code":"make_spawnrecruit_rh(river = \"Upper Hudson\", species = \"BBH\", sex = \"female\") #>  [1] 0.00000000 0.00000000 0.00000000 0.02666047 0.35639463 0.72504549 #>  [7] 1.00000000 1.00000000 1.00000000 1.00000000 1.00000000 1.00000000"},{"path":"https://danstich.github.io/anadrofish/reference/maki_pars.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-specific maturity schedules for River Herring — maki_pars","title":"Sex-specific maturity schedules for River Herring — maki_pars","text":"dataset containing sex-specific probabilities maturation age life-history region (SAT = Southern Atlantic, MAT = Mid Atlantic, SNE = Southern New England, MNE = Mid New England, NNE = Northern New England, CAN-NNE = Canada Northern New England)","code":""},{"path":"https://danstich.github.io/anadrofish/reference/maki_pars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-specific maturity schedules for River Herring — maki_pars","text":"","code":"maki_pars"},{"path":"https://danstich.github.io/anadrofish/reference/maki_pars.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-specific maturity schedules for River Herring — maki_pars","text":"data frame 216 observations 6 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/maki_pars.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-specific maturity schedules for River Herring — maki_pars","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/maki_pars.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sex-specific maturity schedules for River Herring — maki_pars","text":"Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/maturity.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-specific maturity schedules for American shad — maturity","title":"Sex-specific maturity schedules for American shad — maturity","text":"dataset containing sex-specific probabilities maturation age life-history region (NI = Northern iteroparous, SI = Southern iteroparous, SP = Semelparous)","code":""},{"path":"https://danstich.github.io/anadrofish/reference/maturity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-specific maturity schedules for American shad — maturity","text":"","code":"maturity"},{"path":"https://danstich.github.io/anadrofish/reference/maturity.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-specific maturity schedules for American shad — maturity","text":"data frame 6 observations 15 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/maturity.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-specific maturity schedules for American shad — maturity","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/maturity.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sex-specific maturity schedules for American shad — maturity","text":"Atlantic States Marine Fisheries Commission (ASMFC). 2020. American shad benchmark stock assessment peer-review report. ASMFC, Arlington, VA.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/max_ages.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-specific maximum ages of American shad — max_ages","title":"Sex-specific maximum ages of American shad — max_ages","text":"dataset containing sex-specific maximum ages life-history region (NI = Northern iteroparous, SI = Southern iteroparous, SP = Semelparous).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/max_ages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-specific maximum ages of American shad — max_ages","text":"","code":"max_ages"},{"path":"https://danstich.github.io/anadrofish/reference/max_ages.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-specific maximum ages of American shad — max_ages","text":"data frame 6 observations 3 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/max_ages.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-specific maximum ages of American shad — max_ages","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/max_ages.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sex-specific maximum ages of American shad — max_ages","text":"Atlantic States Marine Fisheries Commission (ASMFC). 2020. American shad benchmark stock assessment peer-review report. ASMFC, Arlington, VA.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/mortality.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-specific instaneous mortality of American shad — mortality","title":"Sex-specific instaneous mortality of American shad — mortality","text":"dataset containing sex-specific instantaneous mortality estimates life-history region (NI = Northern iteroparous, SI = Southern iteroparous, SP = Semelparous).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/mortality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-specific instaneous mortality of American shad — mortality","text":"","code":"mortality"},{"path":"https://danstich.github.io/anadrofish/reference/mortality.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-specific instaneous mortality of American shad — mortality","text":"data frame 6 observations 3 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/mortality.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-specific instaneous mortality of American shad — mortality","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/mortality.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sex-specific instaneous mortality of American shad — mortality","text":"Atlantic States Marine Fisheries Commission (ASMFC). 2020. American shad benchmark stock assessment peer-review report. ASMFC, Arlington, VA.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/mortality_rh.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-specific instantaneous natural mortality of river herring — mortality_rh","title":"Sex-specific instantaneous natural mortality of river herring — mortality_rh","text":"dataset containing sex- age-specific instantaneous natural mortality estimates species genetic reporting region","code":""},{"path":"https://danstich.github.io/anadrofish/reference/mortality_rh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-specific instantaneous natural mortality of river herring — mortality_rh","text":"","code":"mortality_rh"},{"path":"https://danstich.github.io/anadrofish/reference/mortality_rh.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-specific instantaneous natural mortality of river herring — mortality_rh","text":"data frame 300 observations 5 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/mortality_rh.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-specific instantaneous natural mortality of river herring — mortality_rh","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/mortality_rh.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sex-specific instantaneous natural mortality of river herring — mortality_rh","text":"Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/olney_mcbride.html","id":null,"dir":"Reference","previous_headings":"","what":"Weight-batch fecundity relationships for American Shad — olney_mcbride","title":"Weight-batch fecundity relationships for American Shad — olney_mcbride","text":"dataset containing weight-batch fecundity relationships St. Johns, York, Connecticut Rivers Olney McBride (2003). Regressions fit log10 batch fecundity function log10 body weight (g).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/olney_mcbride.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weight-batch fecundity relationships for American Shad — olney_mcbride","text":"","code":"olney_mcbride"},{"path":"https://danstich.github.io/anadrofish/reference/olney_mcbride.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Weight-batch fecundity relationships for American Shad — olney_mcbride","text":"data frame 3 observations 4 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/olney_mcbride.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Weight-batch fecundity relationships for American Shad — olney_mcbride","text":"Olney, J. E. R. S. McBride. 2003. Intraspecific variation batch fecundity American shad (*Alosa sapidissima*): revisiting paradigm reciprocal latitudinal trends reproductive traits. American Fisheries Society Symposium 35:185-192.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/project_pop.html","id":null,"dir":"Reference","previous_headings":"","what":"Project population — project_pop","title":"Project population — project_pop","text":"Function used project population forward one time step using vector multiplication.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/project_pop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Project population — project_pop","text":"","code":"project_pop(x, age0, nM, fM, max_age, species = c(\"AMS\", \"ALE\", \"BBH\"))"},{"path":"https://danstich.github.io/anadrofish/reference/project_pop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Project population — project_pop","text":"x numeric vector containing age-specific abundance end year t. age0 numeric vector length one containing number new recruits end year t. nM Numeric vector instantaneous natural mortality. fM Numeric vector instantaneous fishing mortality. max_age Numeric indicating maximum age spawning fish. species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\").","code":""},{"path":"https://danstich.github.io/anadrofish/reference/project_pop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Project population — project_pop","text":"numeric vector age-structured abundance time t + 1.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/project_pop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Project population — project_pop","text":"","code":"# Example usage if (FALSE) { # \\dontrun{     # Simulate a population  n_init = 1e5    max_age = 13  nM = .505  fM = 0  pop = make_pop(max_age=max_age, nM=nM, fM=fM, n_init=n_init)    # Project one time-step without reproduction  new_pop = project_pop(x=pop, age0=1e5, nM=.505, fM=0, max_age)    # Difference should be about zero   # because age0 - n_init  new_pop - pop    } # }"},{"path":"https://danstich.github.io/anadrofish/reference/sim_juvenile_s.html","id":null,"dir":"Reference","previous_headings":"","what":"Juvenile (hatch-to-outmigrant) survival — sim_juvenile_s","title":"Juvenile (hatch-to-outmigrant) survival — sim_juvenile_s","text":"Function used simulate juvenile (hatch--outmigrant) survival daily rates.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/sim_juvenile_s.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Juvenile (hatch-to-outmigrant) survival — sim_juvenile_s","text":"","code":"sim_juvenile_s(species = c(\"AMS\", \"ALE\", \"BBH\"))"},{"path":"https://danstich.github.io/anadrofish/reference/sim_juvenile_s.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Juvenile (hatch-to-outmigrant) survival — sim_juvenile_s","text":"species Species used simulation (\"AMS\", \"ALE\", \"BBH\").","code":""},{"path":"https://danstich.github.io/anadrofish/reference/sim_juvenile_s.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Juvenile (hatch-to-outmigrant) survival — sim_juvenile_s","text":"numeric vector length 1.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/sim_juvenile_s.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Juvenile (hatch-to-outmigrant) survival — sim_juvenile_s","text":"Crecco, V., T. Savoy, L. Gunn. 1983. Daily mortality rates larval juvenile American shad (*Alosa sapidissima*) Connecticut River changes year-class strength. Canadian Journal Fisheries Aquatic Sciences 40:1719-1728. Overton . S., N. . Jones, R. Rulifson. 2012. Spatial temporal variability instantaneous growth, mortality, recruitment larval river herring Tar-Pamlico River, North Carolina. Marine Coastal Fisheries: Dynamics, Management, Ecosystem Science 4:218-227. Stich, D. S., W. E. Eakin, G. Kenney. 2024. Population Responses Blueback Herring Dam Passage Standards Additive Mortality Sources. Journal Fish Wildlife Management 15(1):31-48. Hook, T. O., E. S. Rutherford, D. M. Mason, G. S. Carter. 2007. Hatch Dates, Growth, Survival, Overwinter Mortality Age-0 Alewives Lake Michigan: Implications Habitat-Specific Recruitment Success. Transactions American Fisheries Society 136:1298-1312.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/sim_juvenile_s.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Juvenile (hatch-to-outmigrant) survival — sim_juvenile_s","text":"","code":"sim_juvenile_s(species = \"ALE\") #> [1] 0.002263546"},{"path":"https://danstich.github.io/anadrofish/reference/sim_pop.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate population dynamics through time. — sim_pop","title":"Simulate population dynamics through time. — sim_pop","text":"Use functions anadrofish simulate population change time relative upstream downstream passage probabilities uncertainty life-history information.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/sim_pop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate population dynamics through time. — sim_pop","text":"","code":"sim_pop(   species = c(\"ALE\", \"AMS\", \"BBH\"),   nyears = 50,   river,   max_age = NULL,   nM = NULL,   fM = 0,   n_init = runif(1, 1e+06, 8e+08),   spawnRecruit = NULL,   eggs = NULL,   sr = 0.5,   b = 0.21904,   s_juvenile = NULL,   upstream = 1,   downstream = 1,   downstream_j = 1,   output_years = c(\"last\", \"all\"),   age_structured_output = FALSE,   sex_specific = TRUE,   custom_habitat = NULL )"},{"path":"https://danstich.github.io/anadrofish/reference/sim_pop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate population dynamics through time. — sim_pop","text":"species Species population dynamics simulated. Choices include American shad (\"AMS\"), alewife (\"ALE\"), blueback herring (\"BBH\"). nyears Number years simulation. river River basin. Available rivers implemented package can viewed calling get_rivers arguments (e.g., get_rivers()). Alternatively, user can specify rivers = sample(get_rivers, 1) randomly sample river within larger simulation studies. Information river can found habitat dataset. max_age Maximum age fish population. NULL (default), based maximum age females corresponding region max_ages dataset. nM Instantaneous natural mortality. NULL (default), based average males females corresponding region mortality dataset. fM Instantaneous fishing mortality. default value zero. n_init Initial population seed (number Age-1 individuals) used simulate starting population. Default use draw wide uniform distribution, may beneficial narrow expectations abundance population stability determined. spawnRecruit Probability recruitment spawn age. NULL (default), probabilities based mean male female recruitment first spawn age maturity dataset. eggs Number eggs per female. Can vector length 1 eggs per female age invariant, can vector length max_age age-specific. NULL (default) estimated based weight-batch fecundity regression relationships life-history region olney_mcbride dataset (Olney McBride 2003) mean number batches spawned (6.1 +/- 2.1, McBride et al. 2016) using make_eggs American shad parameters Sullivan et al. (2019) river herring. sr Sex ratio (expressed percent female P(female)). b Density-dependent parameter Beverton-Holt stock-recruitment relationship. default value (0.21904) used approximate larval carrying capacity 100 adult fish per acre based fecundity American shad river herring. value 0.05 approximates carrying capacity corresponds 500 adult fish per acre. s_juvenile Survival hatch outmigrant. NULL (default) simulated (log) normal distribution using mean sd Sc 70 d 1979-1982 Crecco et al. (1983) crecco_1983. upstream Numeric length 1 representing proportional upstream passage dams. downstream Numeric length 1 indicating proportional downstream survival dams. downstream_j Numeric length 1 indicating proportional downstream survival dams juveniles. output_years Temporal level detail provided output. default value 'last' returns final year simulation. value default 'last' return data years simulation. useful testing. age_structured_output population spawner abundance output dataframe age-structured? FALSE (default), pop (non-spawning population) spawners (spawning population) summed across age classes year simulation. TRUE pop spawners returned age class. sake managing outputs, abundances pop spawners reported age classes 1-13 regardless max_age, abundances ages greater max_age zero. sex_specific Whether use sex-specific life-history data. custom_habitat dataframe containing columns corresponding output custom_habitat_template. default, NULL uses default habitat data set given combination species river.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/sim_pop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate population dynamics through time. — sim_pop","text":"dataframe containing simulation inputs (arguments sim_pop) outputs (number spawners) year, minimally including following variables: river Name river. region Regional grouping, see get_region. govt Governmental unit downstream terminus habitat unit. lat Latitude downstream terminus habitat unit. habitat Amount accessible habitat given upstream passage river. year year simulation. output_years = \"last\" nyears. upstream upstream passage dams. Currently single value. downstream adult downstream survival dams. Currently single value. downstream_j adult downstream survival dams. Currently single value. max_age_m maximum age males population. max_age_m maximum age females population. nM_m instantaneous natural mortality males. nM_f instantaneous natural mortality females. fM instantaneous fishing mortality rate population. n_init number adult fish used seed population. sr sex ratio adults. s_juvenile survival juveniles hatch outmigrant. s_spawn_m survival males upstream spawning migration. s_spawn_f survival females upstream spawning migration. s_postspawn_m survival males spawning. s_postspawn_f survival females spawning. iteroparity probability repeat spawning. spawners number spawning adults entering river year. pop total population abundance prior spawning year. juveniles_out number juveniles exiting river year. Additional columns years included depending values passed ouput_years, age_structured_output.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/sim_pop.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Simulate population dynamics through time. — sim_pop","text":"Sullivan, K.M, M.M. Bailey, D.L. Berlinksky. 2019. Digital Image Analysis Technique Alewife Fecundity Estimation New Hampshire River. North American Journal Fisheries Management 39:353-361. McBride, R. S., R. Ferreri, E. K. Towle, J. M. Boucher, G. Basilone, G. 2016. Yolked oocyte dynamics support agreement determinate- indeterminate-method estimates annual fecundity northeastern United States population American shad. PLoS ONE 11(10):10.1371/journal.pone.0164203 Olney, J. E. R. S. McBride. 2003. Intraspecific variation batch fecundity American shad (*Alosa sapidissima*): revisiting paradigm reciprocal latitudinal trends reproductive traits. American Fisheries Society Symposium 35:185-192.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/sim_pop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate population dynamics through time. — sim_pop","text":"","code":"# Example usage if (FALSE) { # \\dontrun{    # Example 1. Simulate a single population one time for 50 years ----------------   library(anadrofish)   library(ggplot2)      # Set rng seed ----   set.seed(1)      # Simulate a single population for fifty years one time   res <- sim_pop(     species = \"AMS\",     nyears = 50,     river = 'Susquehanna',     fM = 0,     n_init = runif(1, 10e5, 50e6),     sr = rbeta(1, 100, 100),     upstream = 1,     downstream = 1,     downstream_j = 1,     output_years = 'all',     age_structured_output = FALSE)      # Plot the output - the result will be different for each   # simulated model run above   ggplot(res, aes(x = year, y = spawners)) +     geom_line() +     xlab(\"Year\") +     ylab(\"Number of spawners\")      # Example 2. Simulate a single population 100 times in parallel ----------------   # Package load ----   library(snowfall)   library(parallel)   library(anadrofish)   library(tidyverse)      # Set rng seed ----   set.seed(1)      # Parallel settings ----   # Get number of cores   ncpus = parallel::detectCores() - 1      # Initialize snowfall   sfInit(parallel = TRUE, cpus = ncpus, type=\"SOCK\")      # Wrapper function ----   sim <- function(x){    # . Call simulation ----   # Run with a single set of upstream and downstream   # dam passage probabilities   res <- sim_pop(     species = \"AMS\",     nyears = 50,     river = 'Susquehanna',     fM = 0,     n_init = runif(1, 8e6, 50e6),     sr = rbeta(1, 100, 100),     upstream = 1,     downstream = 1,     downstream_j = 1,     output_years = 'all',     age_structured_output = FALSE)      # . Define the output lists ----   retlist <- list(res=res)            return(retlist)          }          # Parallel execution ----   # . Load libraries on workers -----   sfLibrary(anadrofish)      # . Distribute to workers -----   # Number of simulations to run   niterations <- 1000      # . Run the simulation ----   start <- Sys.time()      result <- sfLapply(1:niterations, sim)       total_time <- Sys.time() - start   total_time      # . Stop snowfall ----   sfStop()      # Results ----   # 'result' is a list of lists. Save this:   # save(result, file = \"sim_result.rda\")      # Extract results dataframes by string and rbind them   res <- lapply(result, function(x) x[[c('res')]])   library(data.table)   resdf <- data.frame(rbindlist(res))      glimpse(resdf)      # Results summary   plotter <- resdf %>%      group_by(year) %>%      summarize(fit = mean(spawners),               lwr = quantile(spawners, 0.025),               upr = quantile(spawners, 0.975))        # Plotting   ggplot(plotter, aes(x = year, y = fit)) +     geom_line() +     geom_ribbon(aes(xmax = year, ymin = lwr, ymax = upr,                     color = NULL), alpha = 0.40)         # Example 3. Multi-river simulation -------------------------------------------- # Simulate population size for randomly # selected rivers and randomly chosen passage # probabilities from a pre-defined list.      # Run simulations in parallel, saving age-structured # output, but only for the final year of simulation   # Package load ----   library(snowfall)   library(parallel)   library(anadrofish)   library(tidyverse)      # Set rng seed ----   set.seed(1)      # Parallel settings ----   # Get number of cores   ncpus = parallel::detectCores() - 1      # Initialize snowfall   sfInit(parallel = TRUE, cpus = ncpus, type=\"SOCK\")      # Wrapper function ----   sim <- function(x){        # . Call simulation ----     # Define passage scenarios (ASFMC 2020)      passages <- list(       c(0,0,0),       c(1,1,1),       c(0.4, 0.80, 0.95))     passage <- unlist(sample(passages, 1))              # Run the sim       res <- sim_pop(       species = \"AMS\",       nyears = 50,       river = get_rivers(species = \"AMS\")[sample(1:length(get_rivers(species = \"AMS\")), 1)],           fM = 0,       n_init = runif(1, 10e5, 50e6),       sr = rbeta(1, 100, 100),       upstream = passage[1],       downstream = passage[2],       downstream_j = passage[3],       output_years = 'last',       age_structured_output = TRUE       )          # . Define the output lists ----     retlist <- list(res = res)              return(retlist)         }        # Parallel execution ----   # . Load libraries on workers -----   sfLibrary(anadrofish)      # . Distribute to workers -----   # Number of simulations to run   niterations <- 1000      # . Run the simulation ----   start <- Sys.time()      result <- sfLapply(1:niterations, sim)       total_time <- Sys.time() - start   total_time      # . Stop snowfall ----   sfStop()      # Results ----   # 'result' is a list of lists. Save this:   # save(result, file = \"sim_result.rda\")      # Extract results dataframes by string and rbind them   res <- lapply(result, function(x) x[[c('res')]])   library(data.table)   resdf <- rbindlist(res)      # . Summary statistics by passage scenario -----   resdf$river <- as.character(resdf$river)      # Sum population size and spawners across age groups   resdf$spawners <- resdf %>%     select(grep(\"spawners\", colnames(resdf))) %>%     rowSums    resdf$pop <- resdf %>%     select(grep(\"pop\", colnames(resdf))) %>%     rowSums       # Assign scenarios based on upstream passage   resdf$scenario <- 'No dams'   resdf$scenario[resdf$upstream==0] <- 'No passage'   resdf$scenario[resdf$upstream==.40] <- 'Current condition'      # . System-specific summaries ----   rivers <- resdf %>%      group_by(region, river, scenario) %>%      summarize(fit = mean(spawners),               lwr = quantile(spawners, 0.025),               upr = quantile(spawners, 0.975))       # . Coastal summary ----   coastal <- rivers %>%      group_by(scenario) %>%      summarize(fit = sum(fit),               lwr = sum(lwr),               upr = sum(upr))      # . River plot ----   rivers %>%      filter(region == \"SI\") %>%      ggplot(aes(x = river, y = fit, color = scenario, fill = scenario)) +       geom_col() +       coord_flip() +       xlab(\"River\") +       ylab(\"Number of spawning adults\") +       ggtitle(\"Southern Iteroparous Region\") +       theme(plot.title = element_text(hjust = 0.5))      # . Coastal plot ----   ggplot(coastal, aes(x = scenario, y = fit)) +     geom_point(size = 4) +     geom_linerange(aes(xmax = scenario, ymin = lwr, ymax = upr),                    linewidth = 1) +     xlab(\"Scenario\") +     ylab(\"Number of spawning adults\")  } # }"},{"path":"https://danstich.github.io/anadrofish/reference/upper95.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate upper 95 % confidence limit — upper95","title":"Calculate upper 95 % confidence limit — upper95","text":"Function short name calculate 97.5th percentile distribution. Calls stats::quantile, shorter easier use calls apply family functions.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/upper95.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate upper 95 % confidence limit — upper95","text":"","code":"upper95(x)"},{"path":"https://danstich.github.io/anadrofish/reference/upper95.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate upper 95 % confidence limit — upper95","text":"x numeric vector matrix.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/upper95.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate upper 95 % confidence limit — upper95","text":"Numeric vector length 1 containing 97.5th percentile sampling distribution x.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/upper95.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate upper 95 % confidence limit — upper95","text":"","code":"# Example usage if (FALSE) { # \\dontrun{     x <- rnorm(1e4, 0, 1)    upper95(x)    } # }"},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_NI.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-aggregate von Bertalanffy growth parameters for Northern Iteroparous American shad — vbgf_NI","title":"Sex-aggregate von Bertalanffy growth parameters for Northern Iteroparous American shad — vbgf_NI","text":"dataset containing sex-aggregate estimates von Bertalanffy growth parameters Northern Iteroparous life-history region. Data frame contains posterior draws coast-wide growth models (Gilligan 2019).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_NI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-aggregate von Bertalanffy growth parameters for Northern Iteroparous American shad — vbgf_NI","text":"","code":"vbgf_NI"},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_NI.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-aggregate von Bertalanffy growth parameters for Northern Iteroparous American shad — vbgf_NI","text":"data frame 1500 observations 3 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_NI.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-aggregate von Bertalanffy growth parameters for Northern Iteroparous American shad — vbgf_NI","text":"Gilligan, E. K. 2019. Understanding influences climate change American Shad recovery, fisheries management, dam impacts. Master's Thesis, SUNY Oneonta, Oneonta, NY, USA.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_SI.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-aggregate von Bertalanffy growth parameters for Southern Iteroparous American shad — vbgf_SI","title":"Sex-aggregate von Bertalanffy growth parameters for Southern Iteroparous American shad — vbgf_SI","text":"dataset containing sex-aggregate estimates von Bertalanffy growth parameters Southern Iteroparous life-history region. Data frame contains posterior draws coast-wide growth models (Gilligan 2019).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_SI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-aggregate von Bertalanffy growth parameters for Southern Iteroparous American shad — vbgf_SI","text":"","code":"vbgf_SI"},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_SI.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-aggregate von Bertalanffy growth parameters for Southern Iteroparous American shad — vbgf_SI","text":"data frame 1500 observations 3 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_SI.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-aggregate von Bertalanffy growth parameters for Southern Iteroparous American shad — vbgf_SI","text":"Gilligan, E. K. 2019. Understanding influences climate change American Shad recovery, fisheries management, dam impacts. Master's Thesis, SUNY Oneonta, Oneonta, NY, USA.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_SP.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-aggregate von Bertalanffy growth parameters for Semelparous American shad — vbgf_SP","title":"Sex-aggregate von Bertalanffy growth parameters for Semelparous American shad — vbgf_SP","text":"dataset containing sex-aggregate estimates von Bertalanffy growth parameters Semelparous life-history region. Data frame contains posterior draws coast-wide growth models (Gilligan 2019).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_SP.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-aggregate von Bertalanffy growth parameters for Semelparous American shad — vbgf_SP","text":"","code":"vbgf_SP"},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_SP.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-aggregate von Bertalanffy growth parameters for Semelparous American shad — vbgf_SP","text":"data frame 1500 observations 3 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_SP.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-aggregate von Bertalanffy growth parameters for Semelparous American shad — vbgf_SP","text":"Gilligan, E. K. 2019. Understanding influences climate change American Shad recovery, fisheries management, dam impacts. Master's Thesis, SUNY Oneonta, Oneonta, NY, USA.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_ale.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-specific von Bertalanffy growth parameters for alewife — vbgf_ale","title":"Sex-specific von Bertalanffy growth parameters for alewife — vbgf_ale","text":"dataset containing sex-specific estimates von Bertalanffy growth parameters alewife 2024 ASMFC river herring benchmark stock assessment (ASMFC 2024).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_ale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-specific von Bertalanffy growth parameters for alewife — vbgf_ale","text":"","code":"vbgf_ale"},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_ale.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-specific von Bertalanffy growth parameters for alewife — vbgf_ale","text":"data frame 1,116,000 observations 5 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_ale.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-specific von Bertalanffy growth parameters for alewife — vbgf_ale","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_ale.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sex-specific von Bertalanffy growth parameters for alewife — vbgf_ale","text":"Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_bbh.html","id":null,"dir":"Reference","previous_headings":"","what":"Sex-specific von Bertalanffy growth parameters for blueback herring — vbgf_bbh","title":"Sex-specific von Bertalanffy growth parameters for blueback herring — vbgf_bbh","text":"dataset containing sex-specific estimates von Bertalanffy growth parameters blueback herring 2024 ASMFC river herring benchmark stock assessment (ASMFC 2024).","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_bbh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sex-specific von Bertalanffy growth parameters for blueback herring — vbgf_bbh","text":"","code":"vbgf_bbh"},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_bbh.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sex-specific von Bertalanffy growth parameters for blueback herring — vbgf_bbh","text":"data frame 816,000 observations 5 variables:","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_bbh.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sex-specific von Bertalanffy growth parameters for blueback herring — vbgf_bbh","text":"Atlantic States Marine Fisheries Commission","code":""},{"path":"https://danstich.github.io/anadrofish/reference/vbgf_bbh.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sex-specific von Bertalanffy growth parameters for blueback herring — vbgf_bbh","text":"Atlantic States Marine Fisheries Commission. 2024. River herring benchmark stock assessment peer-review report. ASMFC, Arlington, VA. URL: https://asmfc.org/uploads/file/66f59e40RiverHerringAssessment_PeerReviewReport_2024.pdf","code":""},{"path":"https://danstich.github.io/anadrofish/reference/write_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Write simulation results — write_output","title":"Write simulation results — write_output","text":"Internal function used collect return model inputs relevant model outputs (e.g., population size) years t. internal use sim_pop. intended called directly.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/write_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write simulation results — write_output","text":"","code":"write_output(.sim_pop, sex_specific = FALSE)"},{"path":"https://danstich.github.io/anadrofish/reference/write_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write simulation results — write_output","text":".sim_pop hidden environment calling frame sim_pop. Arbitrarily named object names matching used function. sex_specific Logical inherited sim_pop indicating whether use sex-specific output.","code":""},{"path":"https://danstich.github.io/anadrofish/reference/write_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write simulation results — write_output","text":"list results.","code":""}]
